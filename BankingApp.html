<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Smart Banking App</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #4facfe, #00f2fe);
      overflow-x: hidden;
    }

    header {
      background: #fff;
      padding: 1rem 2rem;
      box-shadow: 0 3px 8px rgba(0,0,0,0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 10;
    }
    header h1 { margin: 0; color: #0077cc; }

    nav button {
      margin-left: 1rem;
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 8px;
      background: #0077cc;
      color: white;
      cursor: pointer;
      transition: 0.3s;
    }
    nav button:hover { background: #005fa3; }

    .container { padding: 2rem; max-width: 1000px; margin: auto; }

    .card {
      background: white;
      border-radius: 16px;
      padding: 1.5rem;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      margin-bottom: 1.5rem;
      transition: transform 0.3s;
    }
    .card:hover { transform: translateY(-5px); }

    .schemes {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
    }
    .scheme-card {
      background: linear-gradient(135deg, #ffecd2, #fcb69f);
      border-radius: 16px;
      padding: 1.5rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      text-align: center;
      animation: fadeIn 1s ease;
    }
    .scheme-card button {
      margin-top: 1rem;
      background: #ff6b6b;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      color: white;
      cursor: pointer;
      transition: 0.3s;
    }
    .scheme-card button:hover { background: #e63946; }

    /* Forms */
    .form-box {
      background: #fff;
      padding: 2rem;
      border-radius: 16px;
      box-shadow: 0 6px 15px rgba(0,0,0,0.2);
      text-align: center;
      width: 350px;
      margin: auto;
      animation: fadeIn 1s ease;
    }
    .form-box input {
      display: block;
      width: 100%;
      margin: 1rem 0;
      padding: 0.7rem;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    .form-box button {
      width: 100%;
      padding: 0.7rem;
      border: none;
      border-radius: 8px;
      background: #0077cc;
      color: white;
      cursor: pointer;
    }
    .switch { margin-top: 1rem; font-size: 0.9em; color: #0077cc; cursor: pointer; }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.6);
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      background: white;
      padding: 2rem;
      border-radius: 16px;
      text-align: center;
      animation: pop 0.5s ease;
    }
    @keyframes pop {
      from { transform: scale(0.8); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px);}
      to { opacity: 1; transform: translateY(0);}
    }

    /* Spark Effect */
    .spark {
      position: absolute;
      width: 6px; height: 6px;
      background: yellow;
      border-radius: 50%;
      animation: fly 1s linear infinite;
    }
    @keyframes fly {
      0% { transform: translate(0,0) scale(1); opacity:1;}
      100% { transform: translate(200px,-200px) scale(0); opacity:0;}
    }
  </style>
</head>
<body>
  <!-- Registration -->
  <div id="registerPage" style="height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,#89f7fe,#66a6ff);">
    <div class="form-box">
      <h2>üìù Register</h2>
      <input type="text" id="regName" placeholder="Full Name">
      <input type="text" id="regUser" placeholder="Username">
      <input type="password" id="regPass" placeholder="Password">
      <button onclick="register()">Register</button>
      <div class="switch" onclick="showLogin()">Already have an account? Login</div>
    </div>
  </div>

  <!-- Login -->
  <div id="loginPage" style="display:none;height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,#ff9a9e,#fad0c4);">
    <div class="form-box">
      <h2>üîê Login</h2>
      <input type="text" id="loginUser" placeholder="Username">
      <input type="password" id="loginPass" placeholder="Password">
      <button onclick="login()">Login</button>
      <div class="switch" onclick="showRegister()">New user? Register</div>
    </div>
  </div>

  <!-- Main App -->
  <div id="app" style="display:none;">
    <header>
      <h1>Smart Banking</h1>
      <nav>
        <button onclick="showSection('dashboard')">Dashboard</button>
        <button onclick="showSection('transactions')">Transactions</button>
        <button onclick="showSection('schemes')">Schemes & Loans</button>
        <button onclick="logout()">Logout</button>
      </nav>
    </header>

    <div class="container">
      <!-- Dashboard -->
      <div id="dashboard" class="section">
        <div class="card">
          <h2>Hello, <span id="username">User</span> üëã</h2>
          <p>Balance: <strong>‚Çπ <span id="balance">0</span></strong></p>
          <button onclick="deposit()">Deposit</button>
          <button onclick="withdraw()">Withdraw</button>
          <button onclick="transfer()">Transfer</button>
        </div>
      </div>

      <!-- Transactions -->
      <div id="transactions" class="section" style="display:none;">
        <h2>üìú Transactions</h2>
        <div id="txnList" class="card"></div>
      </div>

      <!-- Schemes -->
      <div id="schemes" class="section" style="display:none;">
        <h2>üí° Schemes & Loans</h2>
        <div class="schemes">
          <div class="scheme-card">
            <h3>üéÅ Joining Bonus</h3>
            <p>Get ‚Çπ500 on your first login!</p>
            <button onclick="claimBonus()">Claim</button>
          </div>
          <div class="scheme-card">
            <h3>üè¶ Personal Loan</h3>
            <p>Instant approval up to ‚Çπ2 Lakhs.</p>
            <button onclick="applyScheme('Personal Loan')">Apply</button>
          </div>
          <div class="scheme-card">
            <h3>üìà Fixed Deposit</h3>
            <p>7.5% Interest Guaranteed.</p>
            <button onclick="applyScheme('Fixed Deposit')">Apply</button>
          </div>
          <div class="scheme-card">
            <h3>üè† Home Loan</h3>
            <p>Low EMI + Cashback.</p>
            <button onclick="applyScheme('Home Loan')">Apply</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div class="modal" id="bonusModal">
    <div class="modal-content">
      <h2>üéâ Bonus Added!</h2>
      <p>‚Çπ500 has been credited to your account.</p>
      <button class="close-btn" onclick="closeModal()">Okay</button>
    </div>
  </div>

  <script>
    let users = JSON.parse(localStorage.getItem("users")) || {};
    let currentUser = null;

    function showLogin(){ document.getElementById("registerPage").style.display="none"; document.getElementById("loginPage").style.display="flex"; }
    function showRegister(){ document.getElementById("loginPage").style.display="none"; document.getElementById("registerPage").style.display="flex"; }

    function register(){
      let name=document.getElementById("regName").value;
      let u=document.getElementById("regUser").value;
      let p=document.getElementById("regPass").value;
      if(u && p){
        users[u]={password:p,name,balance:1000,transactions:[]};
        localStorage.setItem("users",JSON.stringify(users));
        alert("Registered! Now login.");
        showLogin();
      }
    }

    function login(){
      let u=document.getElementById("loginUser").value;
      let p=document.getElementById("loginPass").value;
      if(users[u] && users[u].password===p){
        currentUser=u;
        document.getElementById("loginPage").style.display="none";
        document.getElementById("app").style.display="block";
        document.getElementById("username").innerText=users[u].name||u;
        updateBalance();
      } else { alert("Invalid!"); }
    }

    function logout(){
      currentUser=null;
      document.getElementById("app").style.display="none";
      showLogin();
    }

    function showSection(id){
      document.querySelectorAll(".section").forEach(s=>s.style.display="none");
      document.getElementById(id).style.display="block";
      if(id==="transactions") renderTransactions();
    }

    function deposit(){
      let amt=parseInt(prompt("Deposit amount:"));
      if(amt>0){ users[currentUser].balance+=amt; users[currentUser].transactions.push(`Deposited ‚Çπ${amt}`); update(); }
    }
    function withdraw(){
      let amt=parseInt(prompt("Withdraw amount:"));
      if(amt>0 && amt<=users[currentUser].balance){
        users[currentUser].balance-=amt; users[currentUser].transactions.push(`Withdrew ‚Çπ${amt}`); update();
      }
    }
    function transfer(){
      let to=prompt("Transfer to username:");
      let amt=parseInt(prompt("Amount:"));
      if(users[to] && amt>0 && amt<=users[currentUser].balance){
        users[currentUser].balance-=amt; users[to].balance+=amt;
        users[currentUser].transactions.push(`Transferred ‚Çπ${amt} to ${to}`);
        users[to].transactions.push(`Received ‚Çπ${amt} from ${currentUser}`);
        update();
      }
    }

    function update(){ updateBalance(); localStorage.setItem("users",JSON.stringify(users)); }
    function updateBalance(){ document.getElementById("balance").innerText=users[currentUser].balance; }
    function renderTransactions(){ document.getElementById("txnList").innerHTML=users[currentUser].transactions.map(t=>"<p>‚úÖ "+t+"</p>").join("")||"<p>No transactions yet</p>"; }

    function applyScheme(name){ alert("Applied for "+name+" ‚úÖ"); users[currentUser].transactions.push(`Applied for ${name}`); update(); }

    function claimBonus(){ showModal(); users[currentUser].balance+=500; users[currentUser].transactions.push("Joining Bonus ‚Çπ500"); update(); }
    function showModal(){ document.getElementById("bonusModal").style.display="flex"; }
    function closeModal(){ document.getElementById("bonusModal").style.display="none"; }

    // Spark effect
    setInterval(()=>{
      let s=document.createElement("div"); s.className="spark"; s.style.left=Math.random()*window.innerWidth+"px"; s.style.top=Math.random()*window.innerHeight+"px";
      document.body.appendChild(s); setTimeout(()=>s.remove(),1000);
    },500);
  </script>
</body>
</html>
